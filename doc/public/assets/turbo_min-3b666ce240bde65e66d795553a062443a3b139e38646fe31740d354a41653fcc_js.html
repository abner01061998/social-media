<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>turbo.min-3b666ce240bde65e66d795553a062443a3b139e38646fe31740d354a41653fcc.js - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    
<div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
    <li><a href="../../Gemfile.html">Gemfile</a>
    <li><a href="../../Gemfile_lock.html">Gemfile.lock</a>
    <li><a href="../../README_md.html">README</a>
    <li><a href="../../Rakefile.html">Rakefile</a>
    <li><a href="../../app/assets/config/manifest_js.html">manifest.js</a>
    <li><a href="../../app/assets/stylesheets/application_scss.html">application.scss</a>
    <li><a href="../../app/assets/stylesheets/custom_css.html">custom.css</a>
    <li><a href="../../app/javascript/application_js.html">application.js</a>
    <li><a href="../../app/javascript/controllers/application_js.html">application.js</a>
    <li><a href="../../app/javascript/controllers/hello_controller_js.html">hello_controller.js</a>
    <li><a href="../../app/javascript/controllers/index_js.html">index.js</a>
    <li><a href="../../bin/bundle_cmd.html">bundle.cmd</a>
    <li><a href="../../config_ru.html">config.ru</a>
    <li><a href="../../config/credentials_yml_enc.html">credentials.yml.enc</a>
    <li><a href="../../config/master_key.html">master.key</a>
    <li><a href="../../db/production_sqlite3.html">production.sqlite3</a>
    <li><a href="../../log/development_log.html">development.log</a>
    <li><a href="../../log/production_log.html">production.log</a>
    <li><a href="../../public/404_html.html">404.html</a>
    <li><a href="../../public/422_html.html">422.html</a>
    <li><a href="../../public/500_html.html">500.html</a>
    <li><a href="../../public/apple-touch-icon-precomposed_png.html">apple-touch-icon-precomposed.png</a>
    <li><a href="../../public/apple-touch-icon_png.html">apple-touch-icon.png</a>
    <li><a href="../../public/assets/actioncable-5433453f9b6619a9de91aaab2d7fc7ff183e5260c0107cbc9a1aa0c838d9a74e_js.html">actioncable-5433453f9b6619a9de91aaab2d7fc7ff183e5260c0107cbc9a1aa0c838d9a74e.js</a>
    <li><a href="../../public/assets/actioncable_esm-e01089c3ec4fe7817fa9abcad06cab6bdc387f95f0ca6aab4bf7ba7537f70690_js.html">actioncable.esm-e01089c3ec4fe7817fa9abcad06cab6bdc387f95f0ca6aab4bf7ba7537f70690.js</a>
    <li><a href="../../public/assets/actiontext-28c61f5197c204db043317a8f8826a87ab31495b741f854d307ca36122deefce_js.html">actiontext-28c61f5197c204db043317a8f8826a87ab31495b741f854d307ca36122deefce.js</a>
    <li><a href="../../public/assets/activestorage-3ab61e47dd4ee2d79db525ade1dca2ede0ea2b7371fe587e408ee37b7ade265d_js.html">activestorage-3ab61e47dd4ee2d79db525ade1dca2ede0ea2b7371fe587e408ee37b7ade265d.js</a>
    <li><a href="../../public/assets/activestorage_esm-01f58a45d77495cdfbdfcc872902a430426c4391634ec9c3da5f69fbf8418492_js.html">activestorage.esm-01f58a45d77495cdfbdfcc872902a430426c4391634ec9c3da5f69fbf8418492.js</a>
    <li><a href="../../public/assets/application-32d4b75e744a8a8e755359e6017482014dee13b0c2f0861d571e55531d39a79d_css.html">application-32d4b75e744a8a8e755359e6017482014dee13b0c2f0861d571e55531d39a79d.css</a>
    <li><a href="../../public/assets/application-3e73deab22b3cbf32eae8a405cc3f28cfe3ab81a37fecca6ddbbe46c75af5b0e_css.html">application-3e73deab22b3cbf32eae8a405cc3f28cfe3ab81a37fecca6ddbbe46c75af5b0e.css</a>
    <li><a href="../../public/assets/application-4668a63fc7682ef88af586a54008d0c129dc516b342577afb0de28e081796840_css.html">application-4668a63fc7682ef88af586a54008d0c129dc516b342577afb0de28e081796840.css</a>
    <li><a href="../../public/assets/application-7ac6076e7d9cab030797f1bfe2cf764861a60dc215f623dde8cb933ae0bf10dc_js.html">application-7ac6076e7d9cab030797f1bfe2cf764861a60dc215f623dde8cb933ae0bf10dc.js</a>
    <li><a href="../../public/assets/application-a44e181b486d978d63932a4db09338ae502d90e10c0bdd395aa839123aeea2ec_css.html">application-a44e181b486d978d63932a4db09338ae502d90e10c0bdd395aa839123aeea2ec.css</a>
    <li><a href="../../public/assets/application-ac2e01aa9a494aeeba9e1c95a30a26e3dd5b5ac439d25b67aa38832295e26c3d_css.html">application-ac2e01aa9a494aeeba9e1c95a30a26e3dd5b5ac439d25b67aa38832295e26c3d.css</a>
    <li><a href="../../public/assets/application-dc2d2d6cd177033c4b2946f0fdc563dc111e103bced6042c2b7649f314306f58_css.html">application-dc2d2d6cd177033c4b2946f0fdc563dc111e103bced6042c2b7649f314306f58.css</a>
    <li><a href="../../public/assets/bootstrap_min-20a034247d4d545a7a2d49d62ee00c40f53f825562ed9d6c9af1ad42383e67f6_js.html">bootstrap.min-20a034247d4d545a7a2d49d62ee00c40f53f825562ed9d6c9af1ad42383e67f6.js</a>
    <li><a href="../../public/assets/controllers/application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e_js.html">application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e.js</a>
    <li><a href="../../public/assets/controllers/hello_controller-549135e8e7c683a538c3d6d517339ba470fcfb79d62f738a0a089ba41851a554_js.html">hello_controller-549135e8e7c683a538c3d6d517339ba470fcfb79d62f738a0a089ba41851a554.js</a>
    <li><a href="../../public/assets/controllers/index-2db729dddcc5b979110e98de4b6720f83f91a123172e87281d5a58410fc43806_js.html">index-2db729dddcc5b979110e98de4b6720f83f91a123172e87281d5a58410fc43806.js</a>
    <li><a href="../../public/assets/custom-77945ec94022f825cfe7d6166e97092d87ca4f55627c8062b56cfb9f1a35f205_css.html">custom-77945ec94022f825cfe7d6166e97092d87ca4f55627c8062b56cfb9f1a35f205.css</a>
    <li><a href="../../public/assets/custom-7eba9728e51d5c26d8d1cf50340b4b3ad9251d8a5f0142ef57211377bd50fcfc_css.html">custom-7eba9728e51d5c26d8d1cf50340b4b3ad9251d8a5f0142ef57211377bd50fcfc.css</a>
    <li><a href="../../public/assets/custom-de99a0f588d04e64f8aa62da913f7225b090eb13fbfe74a7315f1715cdefec1d_css.html">custom-de99a0f588d04e64f8aa62da913f7225b090eb13fbfe74a7315f1715cdefec1d.css</a>
    <li><a href="../../public/assets/custom-e30bda1bcb7eaa86b4f7970e250dadbfd4aa17f32943e7e25ef353bd822fd884_css.html">custom-e30bda1bcb7eaa86b4f7970e250dadbfd4aa17f32943e7e25ef353bd822fd884.css</a>
    <li><a href="../../public/assets/es-module-shims-16719834c9bbcdd75f1f99da713bd0c89de488be94d4c5df594511f39cffe7c1_js.html">es-module-shims-16719834c9bbcdd75f1f99da713bd0c89de488be94d4c5df594511f39cffe7c1.js</a>
    <li><a href="../../public/assets/es-module-shims_js-32db422c5db541b7129a2ce936aed905edc2cd481748f8d67ffe84e28313158a_map.html">es-module-shims.js-32db422c5db541b7129a2ce936aed905edc2cd481748f8d67ffe84e28313158a.map</a>
    <li><a href="../../public/assets/es-module-shims_min-d89e73202ec09dede55fb74115af9c5f9f2bb965433de1c2446e1faa6dac2470_js.html">es-module-shims.min-d89e73202ec09dede55fb74115af9c5f9f2bb965433de1c2446e1faa6dac2470.js</a>
    <li><a href="../../public/assets/manifest-b84bfa46a33d7f0dc4d2e7b8889486c9a957a5e40713d58f54be71b66954a1ff_js.html">manifest-b84bfa46a33d7f0dc4d2e7b8889486c9a957a5e40713d58f54be71b66954a1ff.js</a>
    <li><a href="../../public/assets/popper-15792033e209365e7b75c100dae2b69cba31b26b18b289383d22eb67639aad75_js.html">popper-15792033e209365e7b75c100dae2b69cba31b26b18b289383d22eb67639aad75.js</a>
    <li><a href="../../public/assets/stimulus-2e76632599c700da6e187ce7b15eea7c0eace0e09f25d19e55e3b1f7c515397c_js.html">stimulus-2e76632599c700da6e187ce7b15eea7c0eace0e09f25d19e55e3b1f7c515397c.js</a>
    <li><a href="../../public/assets/stimulus-autoloader-c584942b568ba74879da31c7c3d51366737bacaf6fbae659383c0a5653685693_js.html">stimulus-autoloader-c584942b568ba74879da31c7c3d51366737bacaf6fbae659383c0a5653685693.js</a>
    <li><a href="../../public/assets/stimulus-importmap-autoloader-db2076c783bf2dbee1226e2add52fef290b5d31b5bcd1edd999ac8a6dd31c44a_js.html">stimulus-importmap-autoloader-db2076c783bf2dbee1226e2add52fef290b5d31b5bcd1edd999ac8a6dd31c44a.js</a>
    <li><a href="../../public/assets/stimulus-loading-1fc59770fb1654500044afd3f5f6d7d00800e5be36746d55b94a2963a7a228aa_js.html">stimulus-loading-1fc59770fb1654500044afd3f5f6d7d00800e5be36746d55b94a2963a7a228aa.js</a>
    <li><a href="../../public/assets/stimulus_min-b8a9738499c7a8362910cd545375417370d72a9776fb4e766df7671484e2beb7_js.html">stimulus.min-b8a9738499c7a8362910cd545375417370d72a9776fb4e766df7671484e2beb7.js</a>
    <li><a href="../../public/assets/stimulus_min_js-8d1a076cbda7e5ed0992e208db54c62a8de8b1f9694828e1a601fbccd9291649_map.html">stimulus.min.js-8d1a076cbda7e5ed0992e208db54c62a8de8b1f9694828e1a601fbccd9291649.map</a>
    <li><a href="../../public/assets/trix-1563ff9c10f74e143b3ded40a8458497eaf2f87a648a5cbbfebdb7dec3447a5e_js.html">trix-1563ff9c10f74e143b3ded40a8458497eaf2f87a648a5cbbfebdb7dec3447a5e.js</a>
    <li><a href="../../public/assets/trix-fe178d6f8c056d8e63aecb6557bc65676897f43e4aee3e68584437841a99fc23_css.html">trix-fe178d6f8c056d8e63aecb6557bc65676897f43e4aee3e68584437841a99fc23.css</a>
    <li><a href="../../public/assets/turbo-118a59d5569d8a8b343ee3cd7f2c39b6b5fa5f236368b332e2db7bdad59d1ca9_js.html">turbo-118a59d5569d8a8b343ee3cd7f2c39b6b5fa5f236368b332e2db7bdad59d1ca9.js</a>
    <li><a href="../../public/assets/turbo_min-3b666ce240bde65e66d795553a062443a3b139e38646fe31740d354a41653fcc_js.html">turbo.min-3b666ce240bde65e66d795553a062443a3b139e38646fe31740d354a41653fcc.js</a>
    <li><a href="../../public/assets/turbo_min_js-c3141c67d707e81f67affd6a77f1657e298d5cb8aac6628e892669905b33786e_map.html">turbo.min.js-c3141c67d707e81f67affd6a77f1657e298d5cb8aac6628e892669905b33786e.map</a>
    <li><a href="../../public/favicon_ico.html">favicon.ico</a>
    <li><a href="../../public/robots_txt.html">robots</a>
    <li><a href="../../tmp/development_secret_txt.html">development_secret</a>
    <li><a href="../../tmp/pids/server_pid.html">server.pid</a>
    <li><a href="../../tmp/restart_txt.html">restart</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page public/assets/turbo.min-3b666ce240bde65e66d795553a062443a3b139e38646fe31740d354a41653fcc.js">

<p>!function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement,t=function(){return Reflect.construct(e,[],this.constructor)};window.HTMLElement=t,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}(),function(e){function t(e,t,s){throw new e(“Failed to execute ‘requestSubmit’ on ‘HTMLFormElement’: ”<code>t</code>“.”,s)}“function”!=typeof e.requestSubmit&&(e.requestSubmit=function(e){e?(!function(e,s){e instanceof HTMLElement||t(TypeError,“parameter 1 is not of type ‘HTMLElement’”),“submit”==e.type||t(TypeError,“The specified element is not a submit button”),e.form==s||t(DOMException,“The specified element is not owned by this form element”,“NotFoundError”)}(e,this),e.click()):((e=document.createElement(“input”)).type=“submit”,e.hidden=!0,this.appendChild(e),e.click(),this.removeChild(e))})}(HTMLFormElement.prototype);const e=new WeakMap;function t(t){const s=function(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,s=t?t.closest(“input, button”):null;return“submit”==(null==s?void 0:s.type)?s:null}(t.target);s&&s.form&&e.set(s.form,s)}var s,i,r,n,o,a;!function(){if(“submitter”in Event.prototype)return;let s;if(“SubmitEvent”in window&&/Apple Computer/.test(navigator.vendor))s=window.SubmitEvent.prototype;else{if(“SubmitEvent”in window)return;s=window.Event.prototype}addEventListener(“click”,t,!0),Object.defineProperty(s,“submitter”,{get(){if(“submit”==this.type&&this.target instanceof HTMLFormElement)return e.get(this.target)}})}(),function(e){e.eager=“eager”,e.lazy=“lazy”}(s||(s={}));class c extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new c.delegateConstructor(this)}static get observedAttributes(){return[“disabled”,“complete”,“loading”,“src”]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){const{src:e}=this;return this.removeAttribute(“complete”),this.src=null,this.src=e,this.loaded}attributeChangedCallback(e){“loading”==e?this.delegate.loadingStyleChanged():“complete”==e?this.delegate.completeChanged():“src”==e?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute(“src”)}set src(e){e?this.setAttribute(“src”,e):this.removeAttribute(“src”)}get loading(){return function(e){switch(e.toLowerCase()){case“lazy”:return s.lazy;default:return s.eager}}(this.getAttribute(“loading”)||“”)}set loading(e){e?this.setAttribute(“loading”,e):this.removeAttribute(“loading”)}get disabled(){return this.hasAttribute(“disabled”)}set disabled(e){e?this.setAttribute(“disabled”,“”):this.removeAttribute(“disabled”)}get autoscroll(){return this.hasAttribute(“autoscroll”)}set autoscroll(e){e?this.setAttribute(“autoscroll”,“”):this.removeAttribute(“autoscroll”)}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return null===(t=null===(e=this.ownerDocument)||void 0===e?void 0:e.documentElement)||void 0===t?void 0:t.hasAttribute(“data-turbo-preview”)}}function l(e){return new URL(e.toString(),document.baseURI)}function h(e){let t;return e.hash?e.hash.slice(1):(t=e.href.match(/#(.*)$/))?t[1]:void 0}function d(e,t){return l((null==t?void 0:t.getAttribute(“formaction”))||e.getAttribute(“action”)||e.action)}function u(e){return(function(e){return function(e){return e.pathname.split(“/”).slice(1)}(e).slice(-1)[0]}(e).match(/.[^.]*$/)||[])[0]||“”}function m(e,t){const s=function(e){return t=e.origin+e.pathname,t.endsWith(“/”)?t:t+“/”;var t}(t);return e.href===l(s).href||e.href.startsWith(s)}function p(e,t){return m(e,t)&&!!u(e).match(/^(?:|.(?:htm|html|xhtml|php))$/)}function g(e){const t=h(e);return null!=t?e.href.slice(0,-(t.length+1)):e.href}function f(e){return g(e)}class b{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return l(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function v(e){return"advance"==e||"replace"==e||"restore"==e}function S(e){if("false"==e.getAttribute("data-turbo-eval"))return e;{const t=document.createElement("script"),s=M("csp-nonce");return s&&(t.nonce=s),t.textContent=e.textContent,t.async=!1,function(e,t){for(const{name:s,value:i}of t.attributes)e.setAttribute(s,i)}(t,e),t}}function w(e,{target:t,cancelable:s,detail:i}={}){const r=new CustomEvent(e,{cancelable:s,bubbles:!0,detail:i});return t&&t.isConnected?t.dispatchEvent(r):document.documentElement.dispatchEvent(r),r}function y(){return new Promise((e=>requestAnimationFrame((()=>e()))))}function E(e=“”){return(new DOMParser).parseFromString(e,“text/html”)}function L(e,…t){const s=function(e,t){return e.reduce(((e,s,i)=>e+s+(null==t[i]?“”:t[i])),“”)}(e,t).replace(/^n/,“”).split(“n”),i=s[0].match(/^s+/),r=i?i[0].length:0;return s.map((e=>e.slice®)).join(“n”)}function C(){return Array.from({length:36}).map(((e,t)=>8==t||13==t||18==t||23==t?“-”:14==t?“4”:19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16))).join(“”)}function A(e,…t){for(const s of t.map((t=>null==t?void 0:t.getAttribute(e))))if(“string”==typeof s)return s;return null}function R(…e){for(const t of e)“turbo-frame”==t.localName&&t.setAttribute(“busy”,“”),t.setAttribute(“aria-busy”,“true”)}function T(…e){for(const t of e)“turbo-frame”==t.localName&&t.removeAttribute(“busy”),t.removeAttribute(“aria-busy”)}function P(e,t=2e3){return new Promise((s=>{const i=()=>{e.removeEventListener(“error”,i),e.removeEventListener(“load”,i),s()};e.addEventListener(“load”,i,{once:!0}),e.addEventListener(“error”,i,{once:!0}),setTimeout(s,t)}))}function k(e){switch(e){case“replace”:return history.replaceState;case“advance”:case“restore”:return history.pushState}}function F(e){return document.querySelector(‘meta[name=“${e}”]`)}function M(e){const t=F(e);return t&&t.content}!function(e){e[e.get=0]=“get”,e[e.post=1]=“post”,e[e.put=2]=“put”,e[e.patch=3]=“patch”,e[e.delete=4]=“delete”}(i||(i={}));class H{constructor(e,t,s,i=new URLSearchParams,r=null){this.abortController=new AbortController,this.resolveRequestPromise=e=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=i,this.url=s,this.target=r}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){var e,t;const{fetchOptions:s}=this;null===(t=(e=this.delegate).prepareHeadersForRequest)||void 0===t||t.call(e,this.headers,this),await this.allowRequestToBeIntercepted(s);try{this.delegate.requestStarted(this);const e=await fetch(this.url.href,s);return await this.receive(e)}catch(e){if(“AbortError”!==e.name)throw this.willDelegateErrorHandling(e)&&this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new b(e);return w(“turbo:before-fetch-response”,{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:i[this.method].toUpperCase(),credentials:“same-origin”,headers:this.headers,redirect:“follow”,body:this.isIdempotent?null:this.body,signal:this.abortSignal,referrer:null===(e=this.delegate.referrer)||void 0===e?void 0:e.href}}get defaultHeaders(){return{Accept:“text/html, application/xhtml+xml”}}get isIdempotent(){return this.method==i.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(“, ”)}async allowRequestToBeIntercepted(e){const t=new Promise((e=>this.resolveRequestPromise=e));w(“turbo:before-fetch-request”,{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}willDelegateErrorHandling(e){return!w(“turbo:fetch-request-error”,{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}}class I{constructor(e,t){this.started=!1,this.intersect=e=>{const t=e.slice(-1)[0];(null==t?void 0:t.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class q{constructor(e){this.fragment=function(e){for(const t of e.querySelectorAll(“turbo-stream”)){const e=document.importNode(t,!0);for(const t of e.templateElement.content.querySelectorAll(“script”))t.replaceWith(S(t));t.replaceWith(e)}return e}(e)}static wrap(e){return“string”==typeof e?new this(function(e){const t=document.createElement(“template”);return t.innerHTML=e,t.content}(e)):e}}q.contentType=“text/vnd.turbo-stream.html”,function(e){e[e.initialized=0]=“initialized”,e[e.requesting=1]=“requesting”,e[e.waiting=2]=“waiting”,e[e.receiving=3]=“receiving”,e[e.stopping=4]=“stopping”,e[e.stopped=5]=“stopped”}(r||(r={})),function(e){e.urlEncoded=“application/x-www-form-urlencoded”,e.multipart=“multipart/form-data”,e.plain=“text/plain”}(n||(n={}));class O{constructor(e,t,s,n=!1){this.state=r.initialized,this.delegate=e,this.formElement=t,this.submitter=s,this.formData=function(e,t){const s=new FormData(e),i=null==t?void 0:t.getAttribute(“name”),r=null==t?void 0:t.getAttribute(“value”);i&&s.append(i,r||“”);return s}(t,s),this.location=l(this.action),this.method==i.get&&function(e,t){const s=new URLSearchParams;for(const[e,i]of t)i instanceof File||s.append(e,i);e.search=s.toString()}(this.location,[…this.body.entries()]),this.fetchRequest=new H(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=n}static confirmMethod(e,t,s){return Promise.resolve(confirm(e))}get method(){var e;return function(e){switch(e.toLowerCase()){case“get”:return i.get;case“post”:return i.post;case“put”:return i.put;case“patch”:return i.patch;case“delete”:return i.delete}}(((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute(“formmethod”))||this.formElement.getAttribute(“method”)||“”).toLowerCase())||i.get}get action(){var e;const t=“string”==typeof this.formElement.action?this.formElement.action:null;return(null===(e=this.submitter)||void 0===e?void 0:e.hasAttribute(“formaction”))?this.submitter.getAttribute(“formaction”)||“”:this.formElement.getAttribute(“action”)||t||“”}get body(){return this.enctype==n.urlEncoded||this.method==i.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return function(e){switch(e.toLowerCase()){case n.multipart:return n.multipart;case n.plain:return n.plain;default:return n.urlEncoded}}((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute(“formenctype”))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[…this.formData].reduce(((e,[t,s])=>e.concat(“string”==typeof s?[[t,s]]:[])),[])}async start(){const{initialized:e,requesting:t}=r,s=A(“data-turbo-confirm”,this.submitter,this.formElement);if(“string”==typeof s){if(!await O.confirmMethod(s,this.formElement,this.submitter))return}if(this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=r;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(e,t){if(!t.isIdempotent){const t=function(e){if(null!=e){const t=(document.cookie?document.cookie.split(“; ”):[]).find((t=>t.startsWith(e)));if(t){const e=t.split(“=”).slice(1).join(“=”);return e?decodeURIComponent(e):void 0}}}(M(“csrf-param”))||M(“csrf-token”);t&&(e[“X-CSRF-Token”]=t)}this.requestAcceptsTurboStreamResponse(t)&&t.acceptResponseType(q.contentType)}requestStarted(e){var t;this.state=r.waiting,null===(t=this.submitter)||void 0===t||t.setAttribute(“disabled”,“”),w(“turbo:submit-start”,{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&function(e){return 200==e.statusCode&&!e.redirected}(t)){const e=new Error(“Form responses must redirect to another location”);this.delegate.formSubmissionErrored(this,e)}else this.state=r.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=r.stopped,null===(t=this.submitter)||void 0===t||t.removeAttribute(“disabled”),w(“turbo:submit-end”,{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(e){return!e.isIdempotent&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isIdempotent||function(e,…t){return t.some((t=>t&&t.hasAttribute(e)))}(“data-turbo-stream”,this.submitter,this.formElement)}}class B{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[…this.element.children]}hasAnchor(e){return null!=this.getElementForAnchor(e)}getElementForAnchor(e){return e?this.element.querySelector(`[id=’${e}‘], a[name=’${e}‘]`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){for(const e of this.element.querySelectorAll(“[autofocus]”))if(null==e.closest(“[inert], :disabled, [hidden], details:not([open]), dialog:not([open])”))return e;return null}get permanentElements(){return V(this.element)}getPermanentElementById(e){return N(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const s of this.permanentElements){const{id:i}=s,r=e.getPermanentElementById(i);r&&(t[i]=[s,r])}return t}}function N(e,t){return e.querySelector(`#${t}[data-turbo-permanent]`)}function V(e){return <a href="id">e.querySelectorAll(“</a>[data-turbo-permanent]”)}class D{constructor(e,t){this.started=!1,this.submitCaptured=()=&gt;{this.eventTarget.removeEventListener(“submit”,this.submitBubbled,!1),this.eventTarget.addEventListener(“submit”,this.submitBubbled,!1)},this.submitBubbled=e=&gt;{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,s=e.submitter||void 0;t&amp;&amp;function(e,t){return“dialog”!=((null==t?void 0:t.getAttribute(“formmethod”))||e.getAttribute(“method”))}(t,s)&amp;&amp;function(e,t){const s=(null==t?void 0:t.getAttribute(“formtarget”))||e.target;for(const e of document.getElementsByName(s))if(e instanceof HTMLIFrameElement)return!1;return!0}(t,s)&amp;&amp;this.delegate.willSubmitForm(t,s)&amp;&amp;(e.preventDefault(),this.delegate.formSubmitted(t,s))}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener(“submit”,this.submitCaptured,!0),this.started=!0)}stop(){this.started&amp;&amp;(this.eventTarget.removeEventListener(“submit”,this.submitCaptured,!0),this.started=!1)}}class W{constructor(e,t){this.resolveRenderPromise=e=&gt;{},this.resolveInterceptionPromise=e=&gt;{},this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(h(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&amp;&amp;(e.hasAttribute(“tabindex”)?e.focus():(e.setAttribute(“tabindex”,“-1”),e.focus(),e.removeAttribute(“tabindex”)))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:s,newSnapshot:i}=e;if(s)try{this.renderPromise=new Promise((e=&gt;this.resolveRenderPromise=e)),this.renderer=e,await this.prepareToRenderSnapshot(e);const s=new Promise((e=&gt;this.resolveInterceptionPromise=e)),r={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(i,r)||await s,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,t),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute(“data-turbo-preview”,“”):this.element.removeAttribute(“data-turbo-preview”)}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class x extends W{invalidate(){this.element.innerHTML=“”}get snapshot(){return new B(this.element)}}class _{constructor(e,t){this.started=!1,this.clickCaptured=()=&gt;{this.eventTarget.removeEventListener(“click”,this.clickBubbled,!1),this.eventTarget.addEventListener(“click”,this.clickBubbled,!1)},this.clickBubbled=e=&gt;{if(e instanceof MouseEvent&amp;&amp;this.clickEventIsSignificant(e)){const <a href="0">t=e.composedPath&&e.composedPath()</a>||e.target,s=this.findLinkFromClickTarget(t);if(s&amp;&amp;function(e){for(const t of document.getElementsByName(e.target))if(t instanceof HTMLIFrameElement)return!1;return!0}(s)){const t=this.getLocationForLink(s);this.delegate.willFollowLinkToLocation(s,t,e)&amp;&amp;(e.preventDefault(),this.delegate.followedLinkToLocation(s,t))}}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener(“click”,this.clickCaptured,!0),this.started=!0)}stop(){this.started&amp;&amp;(this.eventTarget.removeEventListener(“click”,this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&amp;&amp;e.target.isContentEditable||e.defaultPrevented||e.which&gt;1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){if(e instanceof Element)return <a href="href">e.closest(“a</a>:<a href="target^=_">not(</a>):<a href="download">not(</a>)”)}getLocationForLink(e){return l(e.getAttribute(“href”)||“”)}}class j{constructor(e,t){this.delegate=e,this.linkClickObserver=new _(this,t)}start(){this.linkClickObserver.start()}stop(){this.linkClickObserver.stop()}willFollowLinkToLocation(e,t,s){return this.delegate.willSubmitFormLinkToLocation(e,t,s)&amp;&amp;e.hasAttribute(“data-turbo-method”)}followedLinkToLocation(e,t){const s=t.href,i=document.createElement(“form”);i.setAttribute(“data-turbo”,“true”),i.setAttribute(“action”,s),i.setAttribute(“hidden”,“”);const r=e.getAttribute(“data-turbo-method”);r&amp;&amp;i.setAttribute(“method”,r);const n=e.getAttribute(“data-turbo-frame”);n&amp;&amp;i.setAttribute(“data-turbo-frame”,n);const o=e.getAttribute(“data-turbo-action”);o&amp;&amp;i.setAttribute(“data-turbo-action”,o);const a=e.getAttribute(“data-turbo-confirm”);a&amp;&amp;i.setAttribute(“data-turbo-confirm”,a);e.hasAttribute(“data-turbo-stream”)&amp;&amp;i.setAttribute(“data-turbo-stream”,“”),this.delegate.submittedFormLinkToLocation(e,t,i),document.body.appendChild(i),i.addEventListener(“turbo:submit-end”,(()=&gt;i.remove()),{once:!0}),requestAnimationFrame((()=&gt;i.requestSubmit()))}}class U{constructor(e,t){this.delegate=e,this.permanentElementMap=t}static preservingPermanentElements(e,t,s){const i=new this(e,t);i.enter(),s(),i.leave()}enter(){for(const e in this.permanentElementMap){<a href="t,s">const</a>=<a href="e">this.permanentElementMap</a>;this.delegate.enteringBardo(t,s),this.replaceNewPermanentElementWithPlaceholder(s)}}leave(){for(const e in this.permanentElementMap){<a href="t">const</a>=<a href="e">this.permanentElementMap</a>;this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=function(e){const t=document.createElement(“meta”);return t.setAttribute(“name”,“turbo-permanent-placeholder”),t.setAttribute(“content”,e.id),t}(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);null==t||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find((t=&gt;t.content==e))}get placeholders(){<a href="name=turbo-permanent-placeholder">return[…document.querySelectorAll(“meta</a>[content]”)]}}class ${constructor(e,t,s,i,r=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.willRender=r,this.renderElement=s,this.promise=new Promise(((e,t)=&gt;this.resolvingFunctions={resolve:e,reject:t}))}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&amp;&amp;(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}preservingPermanentElements(e){U.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){const e=this.connectedSnapshot.firstAutofocusableElement;(function(e){return e&amp;&amp;“function”==typeof e.focus})(e)&amp;&amp;e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&amp;&amp;(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&amp;&amp;this.activeElement instanceof HTMLElement&amp;&amp;(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}class z extends ${constructor(e,t,s,i,r,n=!0){super(t,s,i,r,n),this.delegate=e}static renderElement(e,t){var s;const i=document.createRange();i.selectNodeContents(e),i.deleteContents();const r=t,n=null===(s=r.ownerDocument)||void 0===s?void 0:s.createRange();n&amp;&amp;(n.selectNodeContents®,e.appendChild(n.extractContents()))}get shouldRender(){return!0}async render(){await y(),this.preservingPermanentElements((()=&gt;{this.loadFrameElement()})),this.scrollFrameIntoView(),await y(),this.focusFirstAutofocusableElement(),await y(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const s=this.currentElement.firstElementChild,i=(e=this.currentElement.getAttribute(“data-autoscroll-block”),t=“end”,“end”==e||“start”==e||“center”==e||“nearest”==e?e:t),r=function(e,t){return“auto”==e||“smooth”==e?e:t}(this.currentElement.getAttribute(“data-autoscroll-behavior”),“auto”);if(s)return s.scrollIntoView({block:i,behavior:r}),!0}var e,t;return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=S(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll(“script”)}}class G{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=&gt;{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return L`</p>

<pre>  .turbo-progress-bar {
    position: fixed;
    display: block;
    top: 0;
    left: 0;
    height: 3px;
    background: #0076ff;
    z-index: 2147483647;
    transition:
      width ${G.animationDuration}ms ease-out,
      opacity ${G.animationDuration/2}ms ${G.animationDuration/2}ms ease-in;
    transform: translate3d(0, 0, 0);
  }
`}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&amp;&amp;!this.hiding&amp;&amp;(this.hiding=!0,this.fadeProgressElement((()=&gt;{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1})))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width=&quot;0&quot;,this.progressElement.style.opacity=&quot;1&quot;,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity=&quot;0&quot;,setTimeout(e,1.5*G.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&amp;&amp;document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,G.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame((()=&gt;{this.progressElement.style.width=10+90*this.value+&quot;%&quot;}))}createStylesheetElement(){const e=document.createElement(&quot;style&quot;);return e.type=&quot;text/css&quot;,e.textContent=G.defaultCSS,this.cspNonce&amp;&amp;(e.nonce=this.cspNonce),e}createProgressElement(){const e=document.createElement(&quot;div&quot;);return e.className=&quot;turbo-progress-bar&quot;,e}get cspNonce(){return M(&quot;csp-nonce&quot;)}}G.animationDuration=300;class J extends B{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter((e=&gt;!function(e){return&quot;noscript&quot;==e.localName}(e))).map((e=&gt;function(e){e.hasAttribute(&quot;nonce&quot;)&amp;&amp;e.setAttribute(&quot;nonce&quot;,&quot;&quot;);return e}(e))).reduce(((e,t)=&gt;{const{outerHTML:s}=t,i=s in e?e[s]:{type:K(t),tracked:Q(t),elements:[]};return Object.assign(Object.assign({},e),{[s]:Object.assign(Object.assign({},i),{elements:[...i.elements,t]})})}),{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter((e=&gt;this.detailsByOuterHTML[e].tracked)).join(&quot;&quot;)}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot(&quot;script&quot;,e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot(&quot;stylesheet&quot;,e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter((e=&gt;!(e in t.detailsByOuterHTML))).map((e=&gt;this.detailsByOuterHTML[e])).filter((({type:t})=&gt;t==e)).map((({elements:[e]})=&gt;e))}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce(((e,t)=&gt;{const{type:s,tracked:i,elements:r}=this.detailsByOuterHTML[t];return null!=s||i?r.length&gt;1?[...e,...r.slice(1)]:e:[...e,...r]}),[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute(&quot;content&quot;):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce(((t,s)=&gt;{const{elements:[i]}=this.detailsByOuterHTML[s];return function(e,t){return&quot;meta&quot;==e.localName&amp;&amp;e.getAttribute(&quot;name&quot;)==t}(i,e)?i:t}),void 0)}}function K(e){return function(e){return&quot;script&quot;==e.localName}(e)?&quot;script&quot;:function(e){const t=e.localName;return&quot;style&quot;==t||&quot;link&quot;==t&amp;&amp;&quot;stylesheet&quot;==e.getAttribute(&quot;rel&quot;)}(e)?&quot;stylesheet&quot;:void 0}function Q(e){return&quot;reload&quot;==e.getAttribute(&quot;data-turbo-track&quot;)}class X extends B{constructor(e,t){super(e),this.headSnapshot=t}static fromHTMLString(e=&quot;&quot;){return this.fromDocument(E(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new J(e))}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll(&quot;select&quot;),s=e.querySelectorAll(&quot;select&quot;);for(const[e,i]of t.entries()){const t=s[e];for(const e of t.selectedOptions)e.selected=!1;for(const e of i.selectedOptions)t.options[e.index].selected=!0}for(const t of e.querySelectorAll(&#39;input[type=&quot;password&quot;]&#39;))t.value=&quot;&quot;;return new X(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;return l(null!==(e=this.getSetting(&quot;root&quot;))&amp;&amp;void 0!==e?e:&quot;/&quot;)}get cacheControlValue(){return this.getSetting(&quot;cache-control&quot;)}get isPreviewable(){return&quot;no-preview&quot;!=this.cacheControlValue}get isCacheable(){return&quot;no-cache&quot;!=this.cacheControlValue}get isVisitable(){return&quot;reload&quot;!=this.getSetting(&quot;visit-control&quot;)}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}!function(e){e.visitStart=&quot;visitStart&quot;,e.requestStart=&quot;requestStart&quot;,e.requestEnd=&quot;requestEnd&quot;,e.visitEnd=&quot;visitEnd&quot;}(o||(o={})),function(e){e.initialized=&quot;initialized&quot;,e.started=&quot;started&quot;,e.canceled=&quot;canceled&quot;,e.failed=&quot;failed&quot;,e.completed=&quot;completed&quot;}(a||(a={}));const Y={action:&quot;advance&quot;,historyChanged:!1,visitCachedSnapshot:()=&gt;{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var Z,ee;!function(e){e[e.networkFailure=0]=&quot;networkFailure&quot;,e[e.timeoutFailure=-1]=&quot;timeoutFailure&quot;,e[e.contentTypeMismatch=-2]=&quot;contentTypeMismatch&quot;}(Z||(Z={}));class te{constructor(e,t,s,i={}){this.identifier=C(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=a.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=s||C();const{action:r,historyChanged:n,referrer:o,snapshotHTML:c,response:l,visitCachedSnapshot:h,willRender:d,updateHistory:u,shouldCacheSnapshot:m,acceptsStreamResponse:p}=Object.assign(Object.assign({},Y),i);this.action=r,this.historyChanged=n,this.referrer=o,this.snapshotHTML=c,this.response=l,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=h,this.willRender=d,this.updateHistory=u,this.scrolled=!d,this.shouldCacheSnapshot=m,this.acceptsStreamResponse=p}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==a.initialized&amp;&amp;(this.recordTimingMetric(o.visitStart),this.state=a.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==a.started&amp;&amp;(this.request&amp;&amp;this.request.cancel(),this.cancelRender(),this.state=a.canceled)}complete(){this.state==a.started&amp;&amp;(this.recordTimingMetric(o.visitEnd),this.state=a.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==a.started&amp;&amp;(this.state=a.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&amp;&amp;this.updateHistory){const t=k(this.location.href===(null===(e=this.referrer)||void 0===e?void 0:e.href)?&quot;replace&quot;:this.action);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&amp;&amp;!this.request&amp;&amp;(this.request=new H(this,i.get,this.location),this.request.perform())}simulateRequest(){this.response&amp;&amp;(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(o.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;se(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(o.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render((async()=&gt;{this.shouldCacheSnapshot&amp;&amp;this.cacheSnapshot(),this.view.renderPromise&amp;&amp;await this.view.renderPromise,se(e)&amp;&amp;null!=t?(await this.view.renderPage(X.fromHTMLString(t),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(X.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail())}))}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&amp;&amp;(!h(this.location)||e.hasAnchor(h(this.location)))&amp;&amp;(&quot;restore&quot;==this.action||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return X.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render((async()=&gt;{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&amp;&amp;await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),t||this.complete())}))}}followRedirect(){var e;this.redirectedToLocation&amp;&amp;!this.followedRedirect&amp;&amp;(null===(e=this.response)||void 0===e?void 0:e.redirected)&amp;&amp;(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:&quot;replace&quot;,response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&amp;&amp;this.render((async()=&gt;{this.cacheSnapshot(),this.performScroll(),this.adapter.visitRendered(this)}))}prepareHeadersForRequest(e,t){this.acceptsStreamResponse&amp;&amp;t.acceptResponseType(q.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const s=await t.responseHTML,{redirected:i,statusCode:r}=t;null==s?this.recordResponse({statusCode:Z.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:r,responseHTML:s,redirected:i}))}async requestFailedWithResponse(e,t){const s=await t.responseHTML,{redirected:i,statusCode:r}=t;null==s?this.recordResponse({statusCode:Z.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:r,responseHTML:s,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:Z.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||this.view.forceReloaded||(&quot;restore&quot;==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&amp;&amp;this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=h(this.location);if(null!=e)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case&quot;replace&quot;:return history.replaceState;case&quot;advance&quot;:case&quot;restore&quot;:return history.pushState}}hasPreloadedResponse(){return&quot;object&quot;==typeof this.response}shouldIssueRequest(){return!this.isSamePage&amp;&amp;(&quot;restore&quot;==this.action?!this.hasCachedSnapshot():this.willRender)}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot().then((e=&gt;e&amp;&amp;this.visitCachedSnapshot(e))),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise((e=&gt;{this.frame=requestAnimationFrame((()=&gt;e()))})),await e(),delete this.frame}cancelRender(){this.frame&amp;&amp;(cancelAnimationFrame(this.frame),delete this.frame)}}function se(e){return e&gt;=200&amp;&amp;e&lt;300}class ie{constructor(e){this.progressBar=new G,this.showProgressBar=()=&gt;{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,(null==t?void 0:t.restorationIdentifier)||C(),t)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||&quot;restore&quot;!=e.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case Z.networkFailure:case Z.timeoutFailure:case Z.contentTypeMismatch:return this.reload({reason:&quot;request_failed&quot;,context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&amp;&amp;(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){null==this.formProgressBarTimeout&amp;&amp;(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),null!=this.formProgressBarTimeout&amp;&amp;(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){w(&quot;turbo:reload&quot;,{detail:e}),this.location&amp;&amp;(window.location.href=this.location.toString())}get navigator(){return this.session.navigator}}class re{constructor(){this.started=!1,this.removeStaleElements=e=&gt;{const t=[...document.querySelectorAll(&#39;[data-turbo-cache=&quot;false&quot;]&#39;)];for(const e of t)e.remove()}}start(){this.started||(this.started=!0,addEventListener(&quot;turbo:before-cache&quot;,this.removeStaleElements,!1))}stop(){this.started&amp;&amp;(this.started=!1,removeEventListener(&quot;turbo:before-cache&quot;,this.removeStaleElements,!1))}}class ne{constructor(e,t){this.session=e,this.element=t,this.linkClickObserver=new _(this,t),this.formSubmitObserver=new D(this,t)}start(){this.linkClickObserver.start(),this.formSubmitObserver.start()}stop(){this.linkClickObserver.stop(),this.formSubmitObserver.stop()}willFollowLinkToLocation(e,t,s){return this.shouldRedirect(e)&amp;&amp;this.frameAllowsVisitingLocation(e,t,s)}followedLinkToLocation(e,t){const s=this.findFrameElement(e);s&amp;&amp;s.delegate.followedLinkToLocation(e,t)}willSubmitForm(e,t){return null==e.closest(&quot;turbo-frame&quot;)&amp;&amp;this.shouldSubmit(e,t)&amp;&amp;this.shouldRedirect(e,t)}formSubmitted(e,t){const s=this.findFrameElement(e,t);s&amp;&amp;s.delegate.formSubmitted(e,t)}frameAllowsVisitingLocation(e,{href:t},s){return!w(&quot;turbo:click&quot;,{target:e,detail:{url:t,originalEvent:s},cancelable:!0}).defaultPrevented}shouldSubmit(e,t){var s;const i=d(e,t),r=this.element.ownerDocument.querySelector(&#39;meta[name=&quot;turbo-root&quot;]&#39;),n=l(null!==(s=null==r?void 0:r.content)&amp;&amp;void 0!==s?s:&quot;/&quot;);return this.shouldRedirect(e,t)&amp;&amp;p(i,n)}shouldRedirect(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const s=this.findFrameElement(e,t);return!!s&amp;&amp;s!=e.closest(&quot;turbo-frame&quot;)}return!1}findFrameElement(e,t){const s=(null==t?void 0:t.getAttribute(&quot;data-turbo-frame&quot;))||e.getAttribute(&quot;data-turbo-frame&quot;);if(s&amp;&amp;&quot;_top&quot;!=s){const e=this.element.querySelector(`#${s}:not([disabled])`);if(e instanceof c)return e}}}class oe{constructor(e){this.restorationIdentifier=C(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=e=&gt;{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:e}=t;this.restorationIdentifier=e,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,e)}}},this.onPageLoad=async e=&gt;{await Promise.resolve(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener(&quot;popstate&quot;,this.onPopState,!1),addEventListener(&quot;load&quot;,this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&amp;&amp;(removeEventListener(&quot;popstate&quot;,this.onPopState,!1),removeEventListener(&quot;load&quot;,this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,s=C()){const i={turbo:{restorationIdentifier:s}};e.call(history,i,&quot;&quot;,t.href),this.location=t,this.restorationIdentifier=s}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,s=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},s),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(e=history.scrollRestoration)&amp;&amp;void 0!==e?e:&quot;auto&quot;,history.scrollRestoration=&quot;manual&quot;)}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&amp;&amp;(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||&quot;complete&quot;==document.readyState}}class ae{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&amp;&amp;(p(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,s={}){this.lastVisit=this.currentVisit,this.stop(),this.currentVisit=new te(this,l(e),t,Object.assign({referrer:this.location},s)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new O(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&amp;&amp;(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&amp;&amp;(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){&quot;function&quot;==typeof this.adapter.formSubmissionStarted&amp;&amp;this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const s=await t.responseHTML;if(s){const r=e.method==i.get;r||this.view.clearSnapshotCache();const{statusCode:n,redirected:o}=t,a={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:r,response:{statusCode:n,responseHTML:s,redirected:o}};this.proposeVisit(t.location,a)}}}async formSubmissionFailedWithResponse(e,t){const s=await t.responseHTML;if(s){const e=X.fromHTMLString(s);t.serverError?await this.view.renderError(e,this.currentVisit):await this.view.renderPage(e,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){&quot;function&quot;==typeof this.adapter.formSubmissionFinished&amp;&amp;this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){var s;const i=h(e),r=(null===(s=this.lastVisit)||void 0===s?void 0:s.location)||this.view.lastRenderedLocation,n=h(r),o=&quot;restore&quot;===t&amp;&amp;void 0===i;return&quot;replace&quot;!==t&amp;&amp;g(e)===g(r)&amp;&amp;(o||null!=i&amp;&amp;i!==n)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(e){const{formElement:t,submitter:s}=e,i=A(&quot;data-turbo-action&quot;,s,t);return v(i)?i:&quot;advance&quot;}}!function(e){e[e.initial=0]=&quot;initial&quot;,e[e.loading=1]=&quot;loading&quot;,e[e.interactive=2]=&quot;interactive&quot;,e[e.complete=3]=&quot;complete&quot;}(ee||(ee={}));class ce{constructor(e){this.stage=ee.initial,this.started=!1,this.interpretReadyState=()=&gt;{const{readyState:e}=this;&quot;interactive&quot;==e?this.pageIsInteractive():&quot;complete&quot;==e&amp;&amp;this.pageIsComplete()},this.pageWillUnload=()=&gt;{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==ee.initial&amp;&amp;(this.stage=ee.loading),document.addEventListener(&quot;readystatechange&quot;,this.interpretReadyState,!1),addEventListener(&quot;pagehide&quot;,this.pageWillUnload,!1),this.started=!0)}stop(){this.started&amp;&amp;(document.removeEventListener(&quot;readystatechange&quot;,this.interpretReadyState,!1),removeEventListener(&quot;pagehide&quot;,this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==ee.loading&amp;&amp;(this.stage=ee.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==ee.interactive&amp;&amp;(this.stage=ee.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class le{constructor(e){this.started=!1,this.onScroll=()=&gt;{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener(&quot;scroll&quot;,this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&amp;&amp;(removeEventListener(&quot;scroll&quot;,this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class he{render({fragment:e}){U.preservingPermanentElements(this,function(e){const t=V(document.documentElement),s={};for(const i of t){const{id:t}=i;for(const r of e.querySelectorAll(&quot;turbo-stream&quot;)){const e=N(r.templateElement.content,t);e&amp;&amp;(s[t]=[i,e])}}return s}(e),(()=&gt;document.documentElement.appendChild(e)))}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}class de{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=e=&gt;{const t=function(e){var t;const s=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(s instanceof b)return s}(e);t&amp;&amp;function(e){var t;return(null!==(t=e.contentType)&amp;&amp;void 0!==t?t:&quot;&quot;).startsWith(q.contentType)}(t)&amp;&amp;(e.preventDefault(),this.receiveMessageResponse(t))},this.receiveMessageEvent=e=&gt;{this.started&amp;&amp;&quot;string&quot;==typeof e.data&amp;&amp;this.receiveMessageHTML(e.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener(&quot;turbo:before-fetch-response&quot;,this.inspectFetchResponse,!1))}stop(){this.started&amp;&amp;(this.started=!1,removeEventListener(&quot;turbo:before-fetch-response&quot;,this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener(&quot;message&quot;,this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&amp;&amp;(this.sources.delete(e),e.removeEventListener(&quot;message&quot;,this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&amp;&amp;this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(q.wrap(e))}}class ue extends ${static renderElement(e,t){const{documentElement:s,body:i}=document;s.replaceChild(t,i)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const s=S(e);t.replaceChild(s,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll(&quot;script&quot;)}}class me extends ${static renderElement(e,t){document.body&amp;&amp;t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&amp;&amp;this.trackedElementsAreIdentical}get reloadReason(){return this.newSnapshot.isVisitable?this.trackedElementsAreIdentical?void 0:{reason:&quot;tracked_element_mismatch&quot;}:{reason:&quot;turbo_visit_control_is_reload&quot;}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&amp;&amp;this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const e=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements(),await e}replaceBody(){this.preservingPermanentElements((()=&gt;{this.activateNewBody(),this.assignNewBody()}))}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const e=[];for(const t of this.newHeadStylesheetElements)e.push(P(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(S(e))}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=S(e);e.replaceWith(t)}}assignNewBody(){this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll(&quot;script&quot;)}}class pe{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return f(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[f(e)]}write(e,t){this.snapshots[f(e)]=t}touch(e){const t=f(e),s=this.keys.indexOf(t);s&gt;-1&amp;&amp;this.keys.splice(s,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class ge extends W{constructor(){super(...arguments),this.snapshotCache=new pe(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,t=!1,s=!0,i){const r=new me(this.snapshot,e,me.renderElement,t,s);return r.shouldRender?null==i||i.changeHistory():this.forceReloaded=!0,this.render(r)}renderError(e,t){null==t||t.changeHistory();const s=new ue(this.snapshot,e,ue.renderElement,!1);return this.render(s)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(){if(this.shouldCacheSnapshot){this.delegate.viewWillCacheSnapshot();const{snapshot:e,lastRenderedLocation:t}=this;await new Promise((e=&gt;setTimeout((()=&gt;e()),0)));const s=e.clone();return this.snapshotCache.put(t,s),s}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return X.fromElement(this.element)}get shouldCacheSnapshot(){return this.snapshot.isCacheable}}class fe{constructor(e){this.selector=&quot;a[data-turbo-preload]&quot;,this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(&quot;loading&quot;===document.readyState)return document.addEventListener(&quot;DOMContentLoaded&quot;,(()=&gt;{this.preloadOnLoadLinksForView(document.body)}));this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(!this.snapshotCache.has(t))try{const e=await fetch(t.toString(),{headers:{&quot;VND.PREFETCH&quot;:&quot;true&quot;,Accept:&quot;text/html&quot;}}),s=await e.text(),i=X.fromHTMLString(s);this.snapshotCache.put(t,i)}catch(e){}}}function be(e){Object.defineProperties(e,ve)}const ve={absoluteURL:{get(){return this.toString()}}};const Se={after(){this.targetElements.forEach((e=&gt;{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e.nextSibling)}))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=&gt;e.append(this.templateContent)))},before(){this.targetElements.forEach((e=&gt;{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e)}))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=&gt;e.prepend(this.templateContent)))},remove(){this.targetElements.forEach((e=&gt;e.remove()))},replace(){this.targetElements.forEach((e=&gt;e.replaceWith(this.templateContent)))},update(){this.targetElements.forEach((e=&gt;e.replaceChildren(this.templateContent)))}},we=new class{constructor(){this.navigator=new ae(this),this.history=new oe(this),this.preloader=new fe(this),this.view=new ge(this,document.documentElement),this.adapter=new ie(this),this.pageObserver=new ce(this),this.cacheObserver=new re,this.linkClickObserver=new _(this,window),this.formSubmitObserver=new D(this,document),this.scrollObserver=new le(this),this.streamObserver=new de(this),this.formLinkClickObserver=new j(this,document.documentElement),this.frameRedirector=new ne(this,document.documentElement),this.streamMessageRenderer=new he,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode=&quot;on&quot;}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&amp;&amp;(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const s=t.frame?document.getElementById(t.frame):null;s instanceof c?(s.src=e.toString(),s.loaded):this.navigator.proposeVisit(l(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(q.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:&quot;restore&quot;,historyChanged:!0}):this.adapter.pageInvalidated({reason:&quot;turbo_disabled&quot;})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&amp;&amp;p(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,t,s){return this.elementIsNavigatable(e)&amp;&amp;p(t,this.snapshot.rootLocation)&amp;&amp;this.applicationAllowsFollowingLinkToLocation(e,t,s)}followedLinkToLocation(e,t){const s=this.getActionForLink(e),i=e.hasAttribute(&quot;data-turbo-stream&quot;);this.visit(t.href,{action:s,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){be(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||R(document.documentElement),be(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){T(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const s=d(e,t);return this.submissionIsNavigatable(e,t)&amp;&amp;p(l(s),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(null===(e=this.navigator.currentVisit)||void 0===e?void 0:e.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const s=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:i,detail:{render:r}}=s;return this.view.renderer&amp;&amp;r&amp;&amp;(this.view.renderer.renderElement=r),!i}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,s){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,s).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,s){return w(&quot;turbo:click&quot;,{target:e,detail:{url:t.href,originalEvent:s},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return w(&quot;turbo:before-visit&quot;,{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return w(&quot;turbo:visit&quot;,{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return w(&quot;turbo:before-cache&quot;)}notifyApplicationBeforeRender(e,t){return w(&quot;turbo:before-render&quot;,{detail:Object.assign({newBody:e},t),cancelable:!0})}notifyApplicationAfterRender(){return w(&quot;turbo:render&quot;)}notifyApplicationAfterPageLoad(e={}){return w(&quot;turbo:load&quot;,{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent(&quot;hashchange&quot;,{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return w(&quot;turbo:frame-load&quot;,{target:e})}notifyApplicationAfterFrameRender(e,t){return w(&quot;turbo:frame-render&quot;,{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(&quot;off&quot;==this.formMode)return!1;{const s=!t||this.elementIsNavigatable(t);return&quot;optin&quot;==this.formMode?s&amp;&amp;null!=e.closest(&#39;[data-turbo=&quot;true&quot;]&#39;):s&amp;&amp;this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=e.closest(&quot;[data-turbo]&quot;),s=e.closest(&quot;turbo-frame&quot;);return this.drive||s?!t||&quot;false&quot;!=t.getAttribute(&quot;data-turbo&quot;):!!t&amp;&amp;&quot;true&quot;==t.getAttribute(&quot;data-turbo&quot;)}getActionForLink(e){const t=e.getAttribute(&quot;data-turbo-action&quot;);return v(t)?t:&quot;advance&quot;}get snapshot(){return this.view.snapshot}},ye=new class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl(&quot;&quot;)}exemptPageFromCache(){this.setCacheControl(&quot;no-cache&quot;)}exemptPageFromPreview(){this.setCacheControl(&quot;no-preview&quot;)}setCacheControl(e){!function(e,t){let s=F(e);s||(s=document.createElement(&quot;meta&quot;),s.setAttribute(&quot;name&quot;,e),document.head.appendChild(s)),s.setAttribute(&quot;content&quot;,t)}(&quot;turbo-cache-control&quot;,e)}}(we),{navigator:Ee}=we;function Le(){we.start()}function Ce(e){we.registerAdapter(e)}function Ae(e,t){we.visit(e,t)}function Re(e){we.connectStreamSource(e)}function Te(e){we.disconnectStreamSource(e)}function Pe(e){we.renderStreamMessage(e)}function ke(){console.warn(&quot;Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`&quot;),we.clearCache()}function Fe(e){we.setProgressBarDelay(e)}function Me(e){O.confirmMethod=e}function He(e){we.setFormMode(e)}var Ie=Object.freeze({__proto__:null,navigator:Ee,session:we,cache:ye,PageRenderer:me,PageSnapshot:X,FrameRenderer:z,start:Le,registerAdapter:Ce,visit:Ae,connectStreamSource:Re,disconnectStreamSource:Te,renderStreamMessage:Pe,clearCache:ke,setProgressBarDelay:Fe,setConfirmMethod:Me,setFormMode:He,StreamActions:Se});function qe(e){if(null!=e){const t=document.getElementById(e);if(t instanceof c)return t}}function Oe(e,t){if(e){const i=e.getAttribute(&quot;src&quot;);if(null!=i&amp;&amp;null!=t&amp;&amp;(s=t,l(i).href==l(s).href))throw new Error(`Matching &lt;turbo-frame id=&quot;${e.id}&quot;&gt; element has a source URL which references itself`);if(e.ownerDocument!==document&amp;&amp;(e=document.importNode(e,!0)),e instanceof c)return e.connectedCallback(),e.disconnectedCallback(),e}var s}class Be extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return null!==(e=this.renderPromise)&amp;&amp;void 0!==e?e:this.renderPromise=(async()=&gt;{const e=this.beforeRenderEvent;this.dispatchEvent(e)&amp;&amp;(await y(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch(e){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach((e=&gt;e.remove()))}get duplicateChildren(){var e;const t=this.targetElements.flatMap((e=&gt;[...e.children])).filter((e=&gt;!!e.id)),s=[...(null===(e=this.templateContent)||void 0===e?void 0:e.children)||[]].filter((e=&gt;!!e.id)).map((e=&gt;e.id));return t.filter((e=&gt;s.includes(e.id)))}get performAction(){if(this.action){const e=Se[this.action];if(e)return e;this.raise(&quot;unknown action&quot;)}this.raise(&quot;action attribute is missing&quot;)}get targetElements(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise(&quot;target or targets attribute is missing&quot;)}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(null===this.firstElementChild){const e=this.ownerDocument.createElement(&quot;template&quot;);return this.appendChild(e),e}if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise(&quot;first child element must be a &lt;template&gt; element&quot;)}get action(){return this.getAttribute(&quot;action&quot;)}get target(){return this.getAttribute(&quot;target&quot;)}get targets(){return this.getAttribute(&quot;targets&quot;)}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return null!==(t=(null!==(e=this.outerHTML.match(/&lt;[^&gt;]+&gt;/))&amp;&amp;void 0!==e?e:[])[0])&amp;&amp;void 0!==t?t:&quot;&lt;turbo-stream&gt;&quot;}get beforeRenderEvent(){return new CustomEvent(&quot;turbo:before-stream-render&quot;,{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Be.renderElement}})}get targetElementsById(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);return null!==t?[t]:[]}get targetElementsByQuery(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.querySelectorAll(this.targets);return 0!==t.length?Array.prototype.slice.call(t):[]}}class Ne extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Re(this.streamSource)}disconnectedCallback(){this.streamSource&amp;&amp;Te(this.streamSource)}get src(){return this.getAttribute(&quot;src&quot;)||&quot;&quot;}}c.delegateConstructor=class{constructor(e){this.fetchResponseLoaded=e=&gt;{},this.currentFetchRequest=null,this.resolveVisitPromise=()=&gt;{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:e})=&gt;{const t=e.querySelector(&quot;#&quot;+this.element.id);t&amp;&amp;this.previousFrameElement&amp;&amp;t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new x(this,this.element),this.appearanceObserver=new I(this,this.element),this.formLinkClickObserver=new j(this,this.element),this.linkClickObserver=new _(this,this.element),this.restorationIdentifier=C(),this.formSubmitObserver=new D(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==s.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start())}disconnect(){this.connected&amp;&amp;(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==s.eager&amp;&amp;this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo(&quot;src&quot;)||(this.element.isConnected&amp;&amp;(this.complete=!1),(this.loadingStyle==s.eager||this.hasBeenLoaded)&amp;&amp;this.loadSourceURL())}completeChanged(){this.isIgnoringChangesTo(&quot;complete&quot;)||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==s.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&amp;&amp;this.isActive&amp;&amp;!this.complete&amp;&amp;this.sourceURL&amp;&amp;(this.element.loaded=this.visit(l(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&amp;&amp;e.isHTML)&amp;&amp;(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const{body:s}=E(t),i=await this.extractForeignFrameElement(s);if(i){const t=new B(i),s=new z(this,this.view.snapshot,t,z.renderElement,!1,!1);this.view.renderPromise&amp;&amp;await this.view.renderPromise,this.changeHistory(),await this.view.render(s),this.complete=!0,we.frameRendered(e,this.element),we.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&amp;&amp;(console.warn(`A matching frame for #${this.element.id} was missing from the response, transforming into full-page Visit.`),this.visitResponse(e.response))}}catch(e){console.error(e),this.view.invalidate()}finally{this.fetchResponseLoaded=()=&gt;{}}}elementAppearedInViewport(e){this.loadSourceURL()}willSubmitFormLinkToLocation(e){return e.closest(&quot;turbo-frame&quot;)==this.element&amp;&amp;this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,t,s){const i=this.findFrameElement(e);i&amp;&amp;s.setAttribute(&quot;data-turbo-frame&quot;,i.id)}willFollowLinkToLocation(e,t,s){return this.shouldInterceptNavigation(e)&amp;&amp;this.frameAllowsVisitingLocation(e,t,s)}followedLinkToLocation(e,t){this.navigateFrame(e,t.href)}willSubmitForm(e,t){return e.closest(&quot;turbo-frame&quot;)==this.element&amp;&amp;this.shouldInterceptNavigation(e,t)}formSubmitted(e,t){this.formSubmission&amp;&amp;this.formSubmission.stop(),this.formSubmission=new O(this,e,t);const{fetchRequest:s}=this.formSubmission;this.prepareHeadersForRequest(s.headers,s),this.formSubmission.start()}prepareHeadersForRequest(e,t){var s;e[&quot;Turbo-Frame&quot;]=this.id,(null===(s=this.currentNavigationElement)||void 0===s?void 0:s.hasAttribute(&quot;data-turbo-stream&quot;))&amp;&amp;t.acceptResponseType(q.contentType)}requestStarted(e){R(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}async requestFailedWithResponse(e,t){console.error(t),await this.loadResponse(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){T(this.element)}formSubmissionStarted({formElement:e}){R(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){const s=this.findFrameElement(e.formElement,e.submitter);this.proposeVisitIfNavigatedWithAction(s,e.formElement,e.submitter),s.delegate.loadResponse(t)}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t)}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){T(e,this.findFrameElement(e))}allowsImmediateRender({element:e},t){const s=w(&quot;turbo:before-frame-render&quot;,{target:this.element,detail:Object.assign({newFrame:e},t),cancelable:!0}),{defaultPrevented:i,detail:{render:r}}=s;return this.view.renderer&amp;&amp;r&amp;&amp;(this.view.renderer.renderElement=r),!i}viewRenderedSnapshot(e,t){}preloadOnLoadLinksForView(e){we.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}async visit(e){var t;const s=new H(this,i.get,e,new URLSearchParams,this.element);return null===(t=this.currentFetchRequest)||void 0===t||t.cancel(),this.currentFetchRequest=s,new Promise((e=&gt;{this.resolveVisitPromise=()=&gt;{this.resolveVisitPromise=()=&gt;{},this.currentFetchRequest=null,e()},s.perform()}))}navigateFrame(e,t,s){const i=this.findFrameElement(e,s);this.proposeVisitIfNavigatedWithAction(i,e,s),this.withCurrentNavigationElement(e,(()=&gt;{i.src=t}))}proposeVisitIfNavigatedWithAction(e,t,s){if(this.action=function(...e){const t=A(&quot;data-turbo-action&quot;,...e);return v(t)?t:null}(s,t,e),this.frame=e,v(this.action)){const{visitCachedSnapshot:t}=e.delegate;e.delegate.fetchResponseLoaded=s=&gt;{if(e.src){const{statusCode:i,redirected:r}=s,n={response:{statusCode:i,redirected:r,responseHTML:e.ownerDocument.documentElement.outerHTML},visitCachedSnapshot:t,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier};this.action&amp;&amp;(n.action=this.action),we.visit(e.src,n)}}}}changeHistory(){if(this.action&amp;&amp;this.frame){const e=k(this.action);we.history.update(e,l(this.frame.src||&quot;&quot;),this.restorationIdentifier)}}willHandleFrameMissingFromResponse(e){this.element.setAttribute(&quot;complete&quot;,&quot;&quot;);const t=e.response;return!w(&quot;turbo:frame-missing&quot;,{target:this.element,detail:{response:t,visit:async(e,t={})=&gt;{e instanceof Response?this.visitResponse(e):we.visit(e,t)}},cancelable:!0}).defaultPrevented}async visitResponse(e){const t=new b(e),s=await t.responseHTML,{location:i,redirected:r,statusCode:n}=t;return we.visit(i,{response:{redirected:r,statusCode:n,responseHTML:s}})}findFrameElement(e,t){var s;return null!==(s=qe(A(&quot;data-turbo-frame&quot;,t,e)||this.element.getAttribute(&quot;target&quot;)))&amp;&amp;void 0!==s?s:this.element}async extractForeignFrameElement(e){let t;const s=CSS.escape(this.id);try{if(t=Oe(e.querySelector(`turbo-frame#${s}`),this.sourceURL),t)return t;if(t=Oe(e.querySelector(`turbo-frame[src][recurse~=${s}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(e){return console.error(e),new c}return null}formActionIsVisitable(e,t){return p(l(d(e,t)),this.rootLocation)}shouldInterceptNavigation(e,t){const s=A(&quot;data-turbo-frame&quot;,t,e)||this.element.getAttribute(&quot;target&quot;);if(e instanceof HTMLFormElement&amp;&amp;!this.formActionIsVisitable(e,t))return!1;if(!this.enabled||&quot;_top&quot;==s)return!1;if(s){const e=qe(s);if(e)return!e.disabled}return!!we.elementIsNavigatable(e)&amp;&amp;!(t&amp;&amp;!we.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute(&quot;src&quot;,(()=&gt;{this.element.src=null!=e?e:null}))}get loadingStyle(){return this.element.loading}get isLoading(){return void 0!==this.formSubmission||void 0!==this.resolveVisitPromise()}get complete(){return this.element.hasAttribute(&quot;complete&quot;)}set complete(e){this.ignoringChangesToAttribute(&quot;complete&quot;,(()=&gt;{e?this.element.setAttribute(&quot;complete&quot;,&quot;&quot;):this.element.removeAttribute(&quot;complete&quot;)}))}get isActive(){return this.element.isActive&amp;&amp;this.connected}get rootLocation(){var e;const t=this.element.ownerDocument.querySelector(&#39;meta[name=&quot;turbo-root&quot;]&#39;);return l(null!==(e=null==t?void 0:t.content)&amp;&amp;void 0!==e?e:&quot;/&quot;)}frameAllowsVisitingLocation(e,{href:t},s){return!w(&quot;turbo:click&quot;,{target:e,detail:{url:t,originalEvent:s},cancelable:!0}).defaultPrevented}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,t){this.ignoredAttributes.add(e),t(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}},void 0===customElements.get(&quot;turbo-frame&quot;)&amp;&amp;customElements.define(&quot;turbo-frame&quot;,c),void 0===customElements.get(&quot;turbo-stream&quot;)&amp;&amp;customElements.define(&quot;turbo-stream&quot;,Be),void 0===customElements.get(&quot;turbo-stream-source&quot;)&amp;&amp;customElements.define(&quot;turbo-stream-source&quot;,Ne),(()=&gt;{let e=document.currentScript;if(e&amp;&amp;!e.hasAttribute(&quot;data-turbo-suppress-warning&quot;))for(e=e.parentElement;e;){if(e==document.body)return console.warn(L`
    You are loading Turbo from a &lt;script&gt; element inside the &lt;body&gt; element. This is probably not what you meant to do!

    Load your application’s JavaScript bundle inside the &lt;head&gt; element instead. &lt;script&gt; elements in &lt;body&gt; are evaluated with each page change.

    For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

    ——
    Suppress this warning by adding a &quot;data-turbo-suppress-warning&quot; attribute to: %s
  `,e.outerHTML);e=e.parentElement}})(),window.Turbo=Ie,Le();var Ve=Object.freeze({__proto__:null,FrameElement:c,get FrameLoadingStyle(){return s},FrameRenderer:z,PageRenderer:me,PageSnapshot:X,StreamActions:Se,StreamElement:Be,StreamSourceElement:Ne,cache:ye,clearCache:ke,connectStreamSource:Re,disconnectStreamSource:Te,navigator:Ee,registerAdapter:Ce,renderStreamMessage:Pe,session:we,setConfirmMethod:Me,setFormMode:He,setProgressBarDelay:Fe,start:Le,visit:Ae});let De;async function We(){return De||xe(_e().then(xe))}function xe(e){return De=e}async function _e(){const{createConsumer:e}=await Promise.resolve().then((function(){return ht}));return e()}async function je(e,t){const{subscriptions:s}=await We();return s.create(e,t)}var Ue=Object.freeze({__proto__:null,getConsumer:We,setConsumer:xe,createConsumer:_e,subscribeTo:je});function $e(e){return e&amp;&amp;&quot;object&quot;==typeof e?e instanceof Date||e instanceof RegExp?e:Array.isArray(e)?e.map($e):Object.keys(e).reduce((function(t,s){return t[s[0].toLowerCase()+s.slice(1).replace(/([A-Z]+)/g,(function(e,t){return&quot;_&quot;+t.toLowerCase()}))]=$e(e[s]),t}),{}):e}class ze extends HTMLElement{async connectedCallback(){Re(this),this.subscription=await je(this.channel,{received:this.dispatchMessageEvent.bind(this)})}disconnectedCallback(){Te(this),this.subscription&amp;&amp;this.subscription.unsubscribe()}dispatchMessageEvent(e){const t=new MessageEvent(&quot;message&quot;,{data:e});return this.dispatchEvent(t)}get channel(){return{channel:this.getAttribute(&quot;channel&quot;),signed_stream_name:this.getAttribute(&quot;signed-stream-name&quot;),...$e({...this.dataset})}}}customElements.define(&quot;turbo-cable-stream-source&quot;,ze),addEventListener(&quot;turbo:before-fetch-request&quot;,(function(e){if(e.target instanceof HTMLFormElement){const{target:t,detail:{fetchOptions:s}}=e;t.addEventListener(&quot;turbo:submit-start&quot;,(({detail:{formSubmission:{submitter:e}}})=&gt;{const i=e&amp;&amp;e.formMethod||s.body&amp;&amp;s.body.get(&quot;_method&quot;)||t.getAttribute(&quot;method&quot;);/get/i.test(i)||(/post/i.test(i)?s.body.delete(&quot;_method&quot;):s.body.set(&quot;_method&quot;,i),s.method=&quot;post&quot;)}),{once:!0})}}));var Ge={logger:self.console,WebSocket:self.WebSocket},Je={log(...e){this.enabled&amp;&amp;(e.push(Date.now()),Ge.logger.log(&quot;[ActionCable]&quot;,...e))}};const Ke=()=&gt;(new Date).getTime(),Qe=e=&gt;(Ke()-e)/1e3;class Xe{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=Ke(),delete this.stoppedAt,this.startPolling(),addEventListener(&quot;visibilitychange&quot;,this.visibilityDidChange),Je.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&amp;&amp;(this.stoppedAt=Ke(),this.stopPolling(),removeEventListener(&quot;visibilitychange&quot;,this.visibilityDidChange),Je.log(&quot;ConnectionMonitor stopped&quot;))}isRunning(){return this.startedAt&amp;&amp;!this.stoppedAt}recordPing(){this.pingedAt=Ke()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,Je.log(&quot;ConnectionMonitor recorded connect&quot;)}recordDisconnect(){this.disconnectedAt=Ke(),Je.log(&quot;ConnectionMonitor recorded disconnect&quot;)}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout((()=&gt;{this.reconnectIfStale(),this.poll()}),this.getPollInterval())}getPollInterval(){const{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor;return 1e3*e*Math.pow(1+t,Math.min(this.reconnectAttempts,10))*(1+(0===this.reconnectAttempts?1:t)*Math.random())}reconnectIfStale(){this.connectionIsStale()&amp;&amp;(Je.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Qe(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?Je.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Qe(this.disconnectedAt)} s`):(Je.log(&quot;ConnectionMonitor reopening&quot;),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Qe(this.refreshedAt)&gt;this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&amp;&amp;Qe(this.disconnectedAt)&lt;this.constructor.staleThreshold}visibilityDidChange(){&quot;visible&quot;===document.visibilityState&amp;&amp;setTimeout((()=&gt;{!this.connectionIsStale()&amp;&amp;this.connection.isOpen()||(Je.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())}),200)}}Xe.staleThreshold=6,Xe.reconnectionBackoffRate=.15;var Ye={message_types:{welcome:&quot;welcome&quot;,disconnect:&quot;disconnect&quot;,ping:&quot;ping&quot;,confirmation:&quot;confirm_subscription&quot;,rejection:&quot;reject_subscription&quot;},disconnect_reasons:{unauthorized:&quot;unauthorized&quot;,invalid_request:&quot;invalid_request&quot;,server_restart:&quot;server_restart&quot;},default_mount_path:&quot;/cable&quot;,protocols:[&quot;actioncable-v1-json&quot;,&quot;actioncable-unsupported&quot;]};const{message_types:Ze,protocols:et}=Ye,tt=et.slice(0,et.length-1),st=[].indexOf;class it{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new Xe(this),this.disconnected=!0}send(e){return!!this.isOpen()&amp;&amp;(this.webSocket.send(JSON.stringify(e)),!0)}open(){return this.isActive()?(Je.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(Je.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${et}`),this.webSocket&amp;&amp;this.uninstallEventHandlers(),this.webSocket=new Ge.WebSocket(this.consumer.url,et),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isActive())return this.webSocket.close()}reopen(){if(Je.log(`Reopening WebSocket, current state is ${this.getState()}`),!this.isActive())return this.open();try{return this.close()}catch(e){Je.log(&quot;Failed to reopen WebSocket&quot;,e)}finally{Je.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState(&quot;open&quot;)}isActive(){return this.isState(&quot;open&quot;,&quot;connecting&quot;)}isProtocolSupported(){return st.call(tt,this.getProtocol())&gt;=0}isState(...e){return st.call(e,this.getState())&gt;=0}getState(){if(this.webSocket)for(let e in Ge.WebSocket)if(Ge.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase();return null}installEventHandlers(){for(let e in this.events){const t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}}it.reopenDelay=500,it.prototype.events={message(e){if(!this.isProtocolSupported())return;const{identifier:t,message:s,reason:i,reconnect:r,type:n}=JSON.parse(e.data);switch(n){case Ze.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case Ze.disconnect:return Je.log(`Disconnecting. Reason: ${i}`),this.close({allowReconnect:r});case Ze.ping:return this.monitor.recordPing();case Ze.confirmation:return this.subscriptions.confirmSubscription(t),this.subscriptions.notify(t,&quot;connected&quot;);case Ze.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,&quot;received&quot;,s)}},open(){if(Je.log(`WebSocket onopen event, using &#39;${this.getProtocol()}&#39; subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return Je.log(&quot;Protocol is unsupported. Stopping monitor and disconnecting.&quot;),this.close({allowReconnect:!1})},close(e){if(Je.log(&quot;WebSocket onclose event&quot;),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll(&quot;disconnected&quot;,{willAttemptReconnect:this.monitor.isRunning()})},error(){Je.log(&quot;WebSocket onerror event&quot;)}};class rt{constructor(e,t={},s){this.consumer=e,this.identifier=JSON.stringify(t),function(e,t){if(null!=t)for(let s in t){const i=t[s];e[s]=i}}(this,s)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:&quot;message&quot;,identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}class nt{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){-1==this.pendingSubscriptions.indexOf(e)?(Je.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):Je.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){Je.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter((t=&gt;t!==e))}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout((()=&gt;{this.subscriptions&amp;&amp;&quot;function&quot;==typeof this.subscriptions.subscribe&amp;&amp;this.pendingSubscriptions.map((e=&gt;{Je.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)}))}),500)}}class ot{constructor(e){this.consumer=e,this.guarantor=new nt(this),this.subscriptions=[]}create(e,t){const s=&quot;object&quot;==typeof e?e:{channel:e},i=new rt(this.consumer,s,t);return this.add(i)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,&quot;initialized&quot;),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,&quot;unsubscribe&quot;),e}reject(e){return this.findAll(e).map((e=&gt;(this.forget(e),this.notify(e,&quot;rejected&quot;),e)))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter((t=&gt;t!==e)),e}findAll(e){return this.subscriptions.filter((t=&gt;t.identifier===e))}reload(){return this.subscriptions.map((e=&gt;this.subscribe(e)))}notifyAll(e,...t){return this.subscriptions.map((s=&gt;this.notify(s,e,...t)))}notify(e,t,...s){let i;return i=&quot;string&quot;==typeof e?this.findAll(e):[e],i.map((e=&gt;&quot;function&quot;==typeof e[t]?e[t](...s):void 0))}subscribe(e){this.sendCommand(e,&quot;subscribe&quot;)&amp;&amp;this.guarantor.guarantee(e)}confirmSubscription(e){Je.log(`Subscription confirmed ${e}`),this.findAll(e).map((e=&gt;this.guarantor.forget(e)))}sendCommand(e,t){const{identifier:s}=e;return this.consumer.send({command:t,identifier:s})}}class at{constructor(e){this._url=e,this.subscriptions=new ot(this),this.connection=new it(this)}get url(){return ct(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}function ct(e){if(&quot;function&quot;==typeof e&amp;&amp;(e=e()),e&amp;&amp;!/^wss?:/i.test(e)){const t=document.createElement(&quot;a&quot;);return t.href=e,t.href=t.href,t.protocol=t.protocol.replace(&quot;http&quot;,&quot;ws&quot;),t.href}return e}function lt(e){const t=document.head.querySelector(`meta[name=&#39;action-cable-${e}&#39;]`);if(t)return t.getAttribute(&quot;content&quot;)}var ht=Object.freeze({__proto__:null,Connection:it,ConnectionMonitor:Xe,Consumer:at,INTERNAL:Ye,Subscription:rt,Subscriptions:ot,SubscriptionGuarantor:nt,adapters:Ge,createWebSocketURL:ct,logger:Je,createConsumer:function(e=lt(&quot;url&quot;)||Ye.default_mount_path){return new at(e)},getConfig:lt});export{Ve as Turbo,Ue as cable};</pre>

<p>//# sourceMappingURL=/assets/turbo.min.js-c3141c67d707e81f67affd6a77f1657e298d5cb8aac6628e892669905b33786e.map //! ;</p>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.4.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

